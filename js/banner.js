$.get("./json/banner.json?v="+Math.random(),function(i){$("#banner").append('<button id="left"></button><button id="right"></button><div id="wrap" class="container"><ul id="img"><li style="z-index: 6"><a href="javascript:;" target="_blank"><img src="./images/'+i.banners[0].picId+'.jpg" alt="" ></a></li><li style="z-index: 5"><a href="javascript:;" target="_blank"><img src="./images/'+i.banners[1].picId+'.jpg" alt="" ></a></li><li style="z-index: 4"><a href="javascript:;" target="_blank"><img src="./images/'+i.banners[2].picId+'.jpg" alt="" ></a></li><li style="z-index: 3"><a href="javascript:;" target="_blank"><img src="./images/'+i.banners[3].picId+'.jpg" alt="" ></a></li><li style="z-index: 2"><a href="javascript:;" target="_blank"><img src="./images/'+i.banners[4].picId+'.jpg" alt="" ></a></li><li style="z-index: 1"><a href="javascript:;" target="_blank"><img src="./images/'+i.banners[5].picId+'.jpg" alt="" ></a></li></ul><ol id="dot"><li class="selected"></li> <li></li> <li></li> <li></li> <li></li> <li></li></ol></div>'),$("#banner").css({background:"url(./images/"+i.banners[0].backendPicId+".jpg) repeat-x"});var a,e=0,n=1,l=window.setInterval(s,2500);function t(){window.clearInterval(l),a=window.setTimeout(function(){window.clearTimeout(a),l=window.setInterval(s,2500),s(),$("#left")[0].disabled=!1,$("#right")[0].disabled=!1,n=1},5)}function s(){-1==++e&&(e=5),$("#img>li").eq(e).fadeIn(500).siblings().fadeOut(500),$("#dot>li").eq(e).addClass("selected").siblings().removeClass("selected"),$("#banner").css({background:"url(./images/"+i.banners[Math.abs(e)].backendPicId+".jpg) repeat-x",transition:"all 391ms ease-in"}),e==$("#img>li").length-1&&(e=-1)}$("#img>li img").hover(function(){window.clearInterval(l)},function(){l=window.setInterval(s,2500)}),$("#dot>li").on("click",function(){n&&(n=0,window.clearInterval(l),e=$(this).index()-1,t())}),$("#left").on("click",function(){$("#left")[0].disabled=!0,e=$("#dot>li[class=selected]").index()-2,t(),console.log("left"+Math.abs(e))}),$("#right").on("click",function(){$("#right")[0].disabled=!0,t()})},"json");